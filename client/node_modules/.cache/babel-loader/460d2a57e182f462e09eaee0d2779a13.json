{"ast":null,"code":"import _regeneratorRuntime from\"/Users/annayoungyeun/Projects/befitting/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/annayoungyeun/Projects/befitting/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/annayoungyeun/Projects/befitting/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import WorkoutContext from'./workoutContext';import workoutReducer from'./workoutReducer';import{ADD_WORKOUT,DELETE_WORKOUT,UPDATE_WORKOUT,SET_CURRENT,CLEAR_CURRENT,FILTER_WORKOUTS,CLEAR_FILTER,WORKOUT_ERROR,GET_WORKOUTS,CLEAR_WORKOUTS}from'../types';var WorkoutState=function WorkoutState(props){var initialState={workouts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(workoutReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Get Workouts\nvar getWorkouts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/workouts');case 3:res=_context.sent;dispatch({type:GET_WORKOUTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:WORKOUT_ERROR,payload:_context.t0.message});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getWorkouts(){return _ref.apply(this,arguments);};}();//Add Workout\nvar addWorkout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(workout){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/workouts',workout,config);case 4:res=_context2.sent;dispatch({type:ADD_WORKOUT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:WORKOUT_ERROR,payload:_context2.t0.message});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addWorkout(_x){return _ref2.apply(this,arguments);};}();//Delete Workout\nvar deleteWorkout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/workouts/\".concat(id));case 3:res=_context3.sent;dispatch({type:DELETE_WORKOUT,payload:id});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:WORKOUT_ERROR,payload:_context3.t0.message});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function deleteWorkout(_x2){return _ref3.apply(this,arguments);};}();//Update Workout\nvar updateWorkout=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(workout){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/workouts/\".concat(workout._id),workout,config);case 4:res=_context4.sent;dispatch({type:UPDATE_WORKOUT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:WORKOUT_ERROR,payload:_context4.t0.message});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateWorkout(_x3){return _ref4.apply(this,arguments);};}();//Clear Workouts\nvar clearWorkouts=function clearWorkouts(){dispatch({type:CLEAR_WORKOUTS});};//Filter Workouts\nvar filterWorkouts=function filterWorkouts(text){dispatch({type:FILTER_WORKOUTS,payload:text});};//Clear Filter\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};//Set Current Workout\nvar setCurrent=function setCurrent(workout){dispatch({type:SET_CURRENT,payload:workout});};//Clear Current Workout\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};return/*#__PURE__*/React.createElement(WorkoutContext.Provider,{value:{workouts:state.workouts,current:state.current,filtered:state.filtered,error:state.error,filterWorkouts:filterWorkouts,clearFilter:clearFilter,setCurrent:setCurrent,clearCurrent:clearCurrent,addWorkout:addWorkout,updateWorkout:updateWorkout,deleteWorkout:deleteWorkout,getWorkouts:getWorkouts,clearWorkouts:clearWorkouts}},props.children);};export default WorkoutState;","map":{"version":3,"sources":["/Users/annayoungyeun/Projects/befitting/client/src/context/workout/WorkoutState.js"],"names":["React","useReducer","axios","WorkoutContext","workoutReducer","ADD_WORKOUT","DELETE_WORKOUT","UPDATE_WORKOUT","SET_CURRENT","CLEAR_CURRENT","FILTER_WORKOUTS","CLEAR_FILTER","WORKOUT_ERROR","GET_WORKOUTS","CLEAR_WORKOUTS","WorkoutState","props","initialState","workouts","current","filtered","error","state","dispatch","getWorkouts","get","res","type","payload","data","message","addWorkout","workout","config","headers","post","deleteWorkout","id","delete","updateWorkout","put","_id","clearWorkouts","filterWorkouts","text","clearFilter","setCurrent","clearCurrent","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport WorkoutContext from './workoutContext';\nimport workoutReducer from './workoutReducer';\nimport {\n  ADD_WORKOUT,\n  DELETE_WORKOUT,\n  UPDATE_WORKOUT,\n  SET_CURRENT,\n  CLEAR_CURRENT,\n  FILTER_WORKOUTS,\n  CLEAR_FILTER,\n  WORKOUT_ERROR,\n  GET_WORKOUTS,\n  CLEAR_WORKOUTS,\n} from '../types';\n\nconst WorkoutState = (props) => {\n  const initialState = {\n    workouts: null,\n    current: null,\n    filtered: null,\n    error: null,\n  };\n\n  const [state, dispatch] = useReducer(workoutReducer, initialState);\n\n  //Get Workouts\n  const getWorkouts = async () => {\n    try {\n      const res = await axios.get('/api/workouts');\n      dispatch({\n        type: GET_WORKOUTS,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: WORKOUT_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n\n  //Add Workout\n  const addWorkout = async (workout) => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    try {\n      const res = await axios.post('/api/workouts', workout, config);\n      dispatch({\n        type: ADD_WORKOUT,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: WORKOUT_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n\n  //Delete Workout\n  const deleteWorkout = async (id) => {\n    try {\n      const res = await axios.delete(`/api/workouts/${id}`);\n      dispatch({\n        type: DELETE_WORKOUT,\n        payload: id,\n      });\n    } catch (err) {\n      dispatch({\n        type: WORKOUT_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n\n  //Update Workout\n  const updateWorkout = async (workout) => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    try {\n      const res = await axios.put(\n        `/api/workouts/${workout._id}`,\n        workout,\n        config\n      );\n      dispatch({\n        type: UPDATE_WORKOUT,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: WORKOUT_ERROR,\n        payload: err.message,\n      });\n    }\n  };\n\n  //Clear Workouts\n  const clearWorkouts = () => {\n    dispatch({ type: CLEAR_WORKOUTS });\n  };\n\n  //Filter Workouts\n  const filterWorkouts = (text) => {\n    dispatch({ type: FILTER_WORKOUTS, payload: text });\n  };\n\n  //Clear Filter\n  const clearFilter = () => {\n    dispatch({ type: CLEAR_FILTER });\n  };\n\n  //Set Current Workout\n  const setCurrent = (workout) => {\n    dispatch({ type: SET_CURRENT, payload: workout });\n  };\n\n  //Clear Current Workout\n  const clearCurrent = () => {\n    dispatch({ type: CLEAR_CURRENT });\n  };\n\n  return (\n    <WorkoutContext.Provider\n      value={{\n        workouts: state.workouts,\n        current: state.current,\n        filtered: state.filtered,\n        error: state.error,\n        filterWorkouts,\n        clearFilter,\n        setCurrent,\n        clearCurrent,\n        addWorkout,\n        updateWorkout,\n        deleteWorkout,\n        getWorkouts,\n        clearWorkouts,\n      }}\n    >\n      {props.children}\n    </WorkoutContext.Provider>\n  );\n};\n\nexport default WorkoutState;\n"]},"metadata":{},"sourceType":"module"}